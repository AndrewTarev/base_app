# XML Parser & AI Analyzer Service

## Описание:

Микросервис, который будет ежедневно получать XML-файл с данными о продажах, 
обрабатывать его и генерировать аналитический отчет с помощью LLM.

## Основной функционал:

1. Cервис на FastAPI
2. Реализует планировщик задач (используя Celery)
3. Сервис выполняет:
  - Получает XML(пример product.xml) файл по URL: `/api/v1/parse-xml/`
  - Парсит данные о продажах (товары, количество, цены)
  - Сохраняет данные в PostgreSQL
  - Формирует промпт для LLM с анализом продаж
  - Сохраняет ответ LLM в базу данных
  - Реализует эндпоинты для получения данных из БД(использует кэширование)

## Технический стек:

- Python 3.12+
- FastAPI
- PostgreSQL
- Celery
- Flower - для мониторинга задач
- Docker
- OpenAI API
- Poetry - для управления зависимостями
- fastapi-cache2 - для кэширования запросов
- Pytest
- Loguru - логирование

## Схема работы микросервиса:
![Project_strct.png](img/Project_strct.png)

## Установка приложения:

1. Склонируйте репозиторий себе на компьютер
    - git clone https://github.com/AndrewTarev/almazgeobur.git
   

2. Установите свои переменные в .env файл


3. Запустите сборку контейнеров
    - docker-compose up --build

API документация (Swagger/OpenAPI) доступна по пути http://0.0.0.0:8000/docs

Мониторинг Celery http://0.0.0.0:5555
